<div class="flex">
  <h1 class="app-main-title">Deals: Settings</h1>
  {% if viewParams.settingsSaved %}
    <div class="badge badge-info text-sm ml-4">Settings saved.</div>
  {% endif %}
</div>

<script>
  function saveSettings() {
    $("#settings-form").submit();
  }
</script>

<div class="card mt-10 w-1/2 m-auto">
  <form id="settings-form" action="" method="POST">
    <input type="hidden" name="settingsChanged" value="1">
    <table class="table-default">
      <tbody>
        <tr>
          <td>
            <label class="input-label" for="showMostValuableDealsInDashboard">
              Show 'Most valuable deals' in dashboard
            </label>
          </td>
          <td>
            <input
              type="checkbox"
              id="showMostValuableDealsInDashboard"
              name="showMostValuableDealsInDashboard"
              style="zoom:2"
              {% if viewParams.app.configAsBool('showMostValuableDealsInDashboard') %} checked {% endif %}
              onchange="saveSettings();"
            />
          </td>
        </tr>
        <tr>
          <td>
            <label class="input-label" for="showDealValueByResultInDashboard">
              Show 'Deal value by result' in dashboard
            </label>
          </td>
          <td>
            <input
              type="checkbox"
              id="showDealValueByResultInDashboard"
              name="showDealValueByResultInDashboard"
              style="zoom:2"
              {% if viewParams.app.configAsBool('showDealValueByResultInDashboard') %} checked {% endif %}
              onchange="saveSettings();"
            />
          </td>
        </tr>
        <tr>
          <td>Calendar color</td>
          <td>
            <input
              type="text" name="calendarColor"
              class="adios component input"
              value="{{ viewParams.app.configAsString('calendarColor') }}"
              onchange="saveSettings();"
              style="border-left: 2em solid {{ viewParams.app.configAsString('calendarColor') }}"
            />
          </td>
        </tr>
        <tr>
          <td>Deals Prefix</td>
          <td>
            <input
              type="text" name="dealPrefix"
              class="adios component input"
              value="{{ viewParams.app.configAsString('dealPrefix') }}"
              onchange="saveSettings();"
            />
          </td>
        </tr>
      </tbody>
    </table>
  </form>
</div>