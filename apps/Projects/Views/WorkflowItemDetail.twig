<div class="card-header rounded flex flex-col p-2 text-sm font-normal">
  <div class="flex justify-between w-full">
    <div class="flex flex-col truncate">
      <div class="text-gray-400">{{ item.CUSTOMER.name }}</div>
      <div class="font-bold">{{ item.identifier }} {{ item.title }}</div>
      <div>
        <span class="text-blue-800">DEV: {{ item.MAIN_DEVELOPER.email }}</span>
        <span class="text-green-800">PM: {{ item.PROJECT_MANAGER.email }}</span>
      </div>
      {% if item.MILESTONES|length <= 0 %}
        <div class="text-red-800">Project has no milestones.</div>
      {% else %}
        {% for m in item.MILESTONES %}
          <div class="text-violet-600">
            <i class="fas fa-calendar-check"></i>
            {{ hubleto.locale().formatDateShort(m.date_due) }}
            {{ m.title }}
            {% if m.REPORTS|length > 0 %}
              (progress {{ (m.REPORTS|first).progress_percent }} % reported on {{ hubleto.locale().formatDateShort((m.REPORTS|first).date_report) }})
            {% else %}
              (no report yet)
            {% endif %}
          </div>
        {% endfor %}
      {% endif %}
      {% for t in item.TASKS %}
        <div class="text-sm text-gray-400">{{ t.TASK.identifier }} {{ t.TASK.title }}</div>
      {% endfor %}
    </div>
  </div>
</div>
